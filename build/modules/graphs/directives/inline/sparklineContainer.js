define(["modules/graphs/module","sparkline"],function(a){"use strict";a.registerDirective("sparklineContainer",function(){return{restrict:"A",link:function(a,b){function c(){$(".sparkline:not(:has(>canvas))",b).each(function(){var a=$(this),b=a.data("sparkline-type")||"bar";if("bar"==b&&(d=a.data("sparkline-bar-color")||a.css("color")||"#0000f0",e=a.data("sparkline-height")||"26px",f=a.data("sparkline-barwidth")||5,g=a.data("sparkline-barspacing")||2,h=a.data("sparkline-negbar-color")||"#A90329",i=a.data("sparkline-barstacked-color")||["#A90329","#0099c6","#98AA56","#da532c","#4490B1","#6E9461","#990099","#B4CAD3"],a.sparkline("html",{barColor:d,type:b,height:e,barWidth:f,barSpacing:g,stackedBarColor:i,negBarColor:h,zeroAxis:"false"}),a=null),"line"==b&&(e=a.data("sparkline-height")||"20px",db=a.data("sparkline-width")||"90px",j=a.data("sparkline-line-color")||a.css("color")||"#0000f0",k=a.data("sparkline-line-width")||1,l=a.data("fill-color")||"#c0d0f0",m=a.data("sparkline-spot-color")||"#f08000",n=a.data("sparkline-minspot-color")||"#ed1c24",o=a.data("sparkline-maxspot-color")||"#f08000",p=a.data("sparkline-highlightspot-color")||"#50f050",q=a.data("sparkline-highlightline-color")||"f02020",r=a.data("sparkline-spotradius")||1.5,xb=a.data("sparkline-min-y")||"undefined",yb=a.data("sparkline-max-y")||"undefined",zb=a.data("sparkline-min-x")||"undefined",Ab=a.data("sparkline-max-x")||"undefined",Bb=a.data("min-val")||"undefined",Cb=a.data("max-val")||"undefined",Db=a.data("norm-color")||"#c0c0c0",Eb=a.data("draw-normal")||!1,a.sparkline("html",{type:"line",width:db,height:e,lineWidth:k,lineColor:j,fillColor:l,spotColor:m,minSpotColor:n,maxSpotColor:o,highlightSpotColor:p,highlightLineColor:q,spotRadius:r,chartRangeMin:xb,chartRangeMax:yb,chartRangeMinX:zb,chartRangeMaxX:Ab,normalRangeMin:Bb,normalRangeMax:Cb,normalRangeColor:Db,drawNormalOnTop:Eb}),a=null),"pie"==b&&(s=a.data("sparkline-piecolor")||["#B4CAD3","#4490B1","#98AA56","#da532c","#6E9461","#0099c6","#990099","#717D8A"],t=a.data("sparkline-piesize")||90,u=a.data("border-color")||"#45494C",v=a.data("sparkline-offset")||0,a.sparkline("html",{type:"pie",width:t,height:t,tooltipFormat:'<span style="color: {{color}}">&#9679;</span> ({{percent.1}}%)',sliceColors:s,borderWidth:1,offset:v,borderColor:u}),a=null),"box"==b&&(w=a.data("sparkline-width")||"auto",x=a.data("sparkline-height")||"auto",y=a.data("sparkline-boxraw")||!1,z=a.data("sparkline-targetval")||"undefined",A=a.data("sparkline-min")||"undefined",B=a.data("sparkline-max")||"undefined",C=a.data("sparkline-showoutlier")||!0,D=a.data("sparkline-outlier-iqr")||1.5,E=a.data("sparkline-spotradius")||1.5,F=a.css("color")||"#000000",G=a.data("fill-color")||"#c0d0f0",H=a.data("sparkline-whis-color")||"#000000",I=a.data("sparkline-outline-color")||"#303030",J=a.data("sparkline-outlinefill-color")||"#f0f0f0",K=a.data("sparkline-outlinemedian-color")||"#f00000",L=a.data("sparkline-outlinetarget-color")||"#40a020",a.sparkline("html",{type:"box",width:w,height:x,raw:y,target:z,minValue:A,maxValue:B,showOutliers:C,outlierIQR:D,spotRadius:E,boxLineColor:F,boxFillColor:G,whiskerColor:H,outlierLineColor:I,outlierFillColor:J,medianColor:K,targetColor:L}),a=null),"bullet"==b){var c=a.data("sparkline-height")||"auto";M=a.data("sparkline-width")||2,N=a.data("sparkline-bullet-color")||"#ed1c24",O=a.data("sparkline-performance-color")||"#3030f0",P=a.data("sparkline-bulletrange-color")||["#d3dafe","#a8b6ff","#7f94ff"],a.sparkline("html",{type:"bullet",height:c,targetWidth:M,targetColor:N,performanceColor:O,rangeColors:P}),a=null}"discrete"==b&&(Q=a.data("sparkline-height")||26,R=a.data("sparkline-width")||50,S=a.css("color"),T=a.data("sparkline-line-height")||5,U=a.data("sparkline-threshold")||"undefined",V=a.data("sparkline-threshold-color")||"#ed1c24",a.sparkline("html",{type:"discrete",width:R,height:Q,lineColor:S,lineHeight:T,thresholdValue:U,thresholdColor:V}),a=null),"tristate"==b&&(W=a.data("sparkline-height")||26,X=a.data("sparkline-posbar-color")||"#60f060",Y=a.data("sparkline-negbar-color")||"#f04040",Z=a.data("sparkline-zerobar-color")||"#909090",_=a.data("sparkline-barwidth")||5,ab=a.data("sparkline-barspacing")||2,bb=a.data("sparkline-zeroaxis")||!1,a.sparkline("html",{type:"tristate",height:W,posBarColor:cb,negBarColor:Y,zeroBarColor:Z,barWidth:_,barSpacing:ab,zeroAxis:bb}),a=null),"compositebar"==b&&(e=a.data("sparkline-height")||"20px",db=a.data("sparkline-width")||"100%",f=a.data("sparkline-barwidth")||3,k=a.data("sparkline-line-width")||1,j=a.data("sparkline-color-top")||"#ed1c24",cb=a.data("sparkline-color-bottom")||"#333333",a.sparkline(a.data("sparkline-bar-val"),{type:"bar",width:db,height:e,barColor:cb,barWidth:f}),a.sparkline(a.data("sparkline-line-val"),{width:db,height:e,lineColor:j,lineWidth:k,composite:!0,fillColor:!1}),a=null),"compositeline"==b&&(e=a.data("sparkline-height")||"20px",db=a.data("sparkline-width")||"90px",eb=a.data("sparkline-bar-val"),fb=a.data("sparkline-bar-val-spots-top")||null,gb=a.data("sparkline-bar-val-spots-bottom")||null,hb=a.data("sparkline-line-width-top")||1,ib=a.data("sparkline-line-width-bottom")||1,jb=a.data("sparkline-color-top")||"#333333",kb=a.data("sparkline-color-bottom")||"#ed1c24",lb=a.data("sparkline-spotradius-top")||1.5,mb=a.data("sparkline-spotradius-bottom")||lb,m=a.data("sparkline-spot-color")||"#f08000",nb=a.data("sparkline-minspot-color-top")||"#ed1c24",ob=a.data("sparkline-maxspot-color-top")||"#f08000",pb=a.data("sparkline-minspot-color-bottom")||nb,qb=a.data("sparkline-maxspot-color-bottom")||ob,rb=a.data("sparkline-highlightspot-color-top")||"#50f050",sb=a.data("sparkline-highlightline-color-top")||"#f02020",tb=a.data("sparkline-highlightspot-color-bottom")||rb,ub=a.data("sparkline-highlightline-color-bottom")||sb,vb=a.data("sparkline-fillcolor-top")||"transparent",wb=a.data("sparkline-fillcolor-bottom")||"transparent",a.sparkline(eb,{type:"line",spotRadius:lb,spotColor:m,minSpotColor:nb,maxSpotColor:ob,highlightSpotColor:rb,highlightLineColor:sb,valueSpots:fb,lineWidth:hb,width:db,height:e,lineColor:jb,fillColor:vb}),a.sparkline(a.data("sparkline-line-val"),{type:"line",spotRadius:mb,spotColor:m,minSpotColor:pb,maxSpotColor:qb,highlightSpotColor:tb,highlightLineColor:ub,valueSpots:gb,lineWidth:ib,width:db,height:e,lineColor:kb,composite:!0,fillColor:wb}),a=null)})}var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb;c()}}})});
